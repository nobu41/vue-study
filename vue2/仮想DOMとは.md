# 仮想DOMとは何ぞ？
##　仮想DOMとは
・データの更新とリアルなDOMの更新処理は非同期に行われる。
・DOMの再利用によって変更した状態が残ることがある。

仮想DOMはバインディングしたデータを元に作られ、DOMのNodeと同じように「仮想Node」と呼ばれる節で構成されたツリー構造になっている（＝　仮想DOMを元にDOMが作られる）

### DOMを更新するタイミング
DOMと紐づいたデータを更新してもすぐにDOMは更新されない。
データを更新した直後にDOMにアクセスしても反映前の状態になっている。
反映されたDOMにアクセスするには
DOMの更新を待ち受けるための仕組みを提供している nextTick を使用する必要がある。

データへの操作 → nextTickを使った処理の予約　→ データ → 仮想DOM → DOM（ここで画面が更新） 

### 最適化によるDOMの再利用と副作用
※詳しくHAindex.htmlに記載
差分が無いものと認識され意図しない描画結果になる
この副作用を防ぐために、keyを付与することで区別させることで新規で描画されるようになる

例：inputに文字が入力されているとtoggleが切り替わってもvalueの値は保持されたまま描画される。


### jQueryなどのDOM操作ライブラリとの併用
Vue.jsを使用する場合、リアルDOM操作系のライブラリを併用することは減る。
マウントした要素内のDOMを直接操作してもデータが変わるわけではなく仮想DOMが更新されないため。
DOMの更新はデータバインディングが基本となり、DOMにアクセスする必要がある場合は
$el や $refs　カスタムディレクティブといった機能がvueにあるため、他のライブラリと併用する場合も
なるべくvueが提供する機能を使い、イベントバスやvuexを使用してデータを操作するようにする。